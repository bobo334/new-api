<p align="right">
   <strong>ä¸­æ–‡</strong> | <a href="./README.en.md">English</a>
</p>
<div align="center">

![new-api](/web/public/logo.png)

# New API

ğŸ¥æ–°ä¸€ä»£å¤§æ¨¡å‹ç½‘å…³ä¸ AI èµ„äº§ç®¡ç†ç³»ç»Ÿ

<a href="https://trendshift.io/repositories/8227" target="_blank"><img src="https://trendshift.io/api/badge/repositories/8227" alt="Calcium-Ion%2Fnew-api | Trendshift" style="width: 250px; height: 55px;" width="250" height="55"/></a>

<p align="center">
  <a href="https://raw.githubusercontent.com/Calcium-Ion/new-api/main/LICENSE">
    <img src="https://img.shields.io/github/license/Calcium-Ion/new-api?color=brightgreen" alt="license">
  </a>
  <a href="https://github.com/Calcium-Ion/new-api/releases/latest">
    <img src="https://img.shields.io/github/v/release/Calcium-Ion/new-api?color=brightgreen&include_prereleases" alt="release">
  </a>
  <a href="https://github.com/users/Calcium-Ion/packages/container/package/new-api">
    <img src="https://img.shields.io/badge/docker-ghcr.io-blue" alt="docker">
  </a>
  <a href="https://hub.docker.com/r/CalciumIon/new-api">
    <img src="https://img.shields.io/badge/docker-dockerHub-blue" alt="docker">
  </a>
  <a href="https://goreportcard.com/report/github.com/Calcium-Ion/new-api">
    <img src="https://goreportcard.com/badge/github.com/Calcium-Ion/new-api" alt="GoReportCard">
  </a>
</p>
</div>

# # ğŸ“ é¡¹ç›®è¯´æ˜

> [!NOTE]
> æœ¬é¡¹ç›®ä¸ºå¼€æºé¡¹ç›®ï¼Œåœ¨ [One API](https://github.com/songquanpeng/one-api) çš„åŸºç¡€ä¸Šè¿›è¡ŒäºŒæ¬¡å¼€å‘

> [!IMPORTANT]
> - æœ¬é¡¹ç›®ä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨ï¼Œä¸ä¿è¯ç¨³å®šæ€§ï¼Œä¸”ä¸æä¾›ä»»ä½•æŠ€æœ¯æ”¯æŒã€‚
> - ä½¿ç”¨è€…å¿…é¡»åœ¨éµå¾ª OpenAI çš„ [ ä½¿ç”¨æ¡æ¬¾ ](https://openai.com/policies/terms-of-use) ä»¥åŠ**æ³•å¾‹æ³•è§„**çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºéæ³•ç”¨é€”ã€‚
> - æ ¹æ® [ã€Šç”Ÿæˆå¼äººå·¥æ™ºèƒ½æœåŠ¡ç®¡ç†æš‚è¡ŒåŠæ³•ã€‹](http://www.cac.gov.cn/2023-07/13/c_1690898327029107.htm) çš„è¦æ±‚ï¼Œè¯·å‹¿å¯¹ä¸­å›½åœ°åŒºå…¬ä¼—æä¾›ä¸€åˆ‡æœªç»å¤‡æ¡ˆçš„ç”Ÿæˆå¼äººå·¥æ™ºèƒ½æœåŠ¡ã€‚

<h2>ğŸ¤ æˆ‘ä»¬ä¿¡ä»»çš„åˆä½œä¼™ä¼´</h2>
<p id="premium-sponsors">&nbsp;</p>
<p align="center"><strong>æ’åä¸åˆ†å…ˆå</strong></p>
<p align="center">
 <a href="https://www.cherry-ai.com/" target=_blank><img
 src="./docs/images/cherry-studio.png" alt="Cherry Studio" height="120"
 /></a>
 <a href="https://bda.pku.edu.cn/" target=_blank><img
 src="./docs/images/pku.png" alt="åŒ—äº¬å¤§å­¦" height="120"
 /></a>
 <a href="https://www.compshare.cn/?ytag=GPU_yy_gh_newapi" target=_blank><img
 src="./docs/images/ucloud.png" alt="UCloud ä¼˜åˆ»å¾—" height="120"
 /></a>
 <a href="https://www.aliyun.com/" target=_blank><img
 src="./docs/images/aliyun.png" alt="é˜¿é‡Œäº‘" height="120"
 /></a>
 <a href="https://io.net/" target=_blank><img
 src="./docs/images/io-net.png" alt="IO.NET" height="120"
 /></a>
</p>
<p>&nbsp;</p>

# # ğŸ“š æ–‡æ¡£

è¯¦ç»†æ–‡æ¡£è¯·è®¿é—®æˆ‘ä»¬çš„å®˜æ–¹ Wikiï¼š[https://docs.newapi.pro/](https://docs.newapi.pro/)

ä¹Ÿå¯è®¿é—® AI ç”Ÿæˆçš„ DeepWiki:
[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/QuantumNous/new-api)

# # âœ¨ ä¸»è¦ç‰¹æ€§

New API æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œè¯¦ç»†ç‰¹æ€§è¯·å‚è€ƒ [ ç‰¹æ€§è¯´æ˜ ](https://docs.newapi.pro/wiki/features-introduction)ï¼š

1. ğŸ¨ å…¨æ–°çš„ UI ç•Œé¢
2. ğŸŒ å¤šè¯­è¨€æ”¯æŒ
3. ğŸ’° æ”¯æŒåœ¨çº¿å……å€¼åŠŸèƒ½ï¼ˆæ˜“æ”¯ä»˜ï¼‰
4. ğŸ” æ”¯æŒç”¨ key æŸ¥è¯¢ä½¿ç”¨é¢åº¦ï¼ˆé…åˆ [neko-api-key-tool](https://github.com/Calcium-Ion/neko-api-key-tool)ï¼‰
5. ğŸ”„ å…¼å®¹åŸç‰ˆ One API çš„æ•°æ®åº“
6. ğŸ’µ æ”¯æŒæ¨¡å‹æŒ‰æ¬¡æ•°æ”¶è´¹
7. âš–ï¸ æ”¯æŒæ¸ é“åŠ æƒéšæœº
8. ğŸ“ˆ æ•°æ®çœ‹æ¿ï¼ˆæ§åˆ¶å°ï¼‰
9. ğŸ”’ ä»¤ç‰Œåˆ†ç»„ã€æ¨¡å‹é™åˆ¶
10. ğŸ¤– æ”¯æŒæ›´å¤šæˆæƒç™»é™†æ–¹å¼ï¼ˆLinuxDO,Telegramã€OIDCï¼‰
11. ğŸ”„ æ”¯æŒ Rerank æ¨¡å‹ï¼ˆCohere å’Œ Jinaï¼‰ï¼Œ[ æ¥å£æ–‡æ¡£ ](https://docs.newapi.pro/api/jinaai-rerank)
12. âš¡ æ”¯æŒ OpenAI Realtime APIï¼ˆåŒ…æ‹¬ Azure æ¸ é“ï¼‰ï¼Œ[ æ¥å£æ–‡æ¡£ ](https://docs.newapi.pro/api/openai-realtime)
13. âš¡ æ”¯æŒ Claude Messages æ ¼å¼ï¼Œ[ æ¥å£æ–‡æ¡£ ](https://docs.newapi.pro/api/anthropic-chat)
14. æ”¯æŒä½¿ç”¨è·¯ç”± /chat2link è¿›å…¥èŠå¤©ç•Œé¢
15. ğŸ§  æ”¯æŒé€šè¿‡æ¨¡å‹åç§°åç¼€è®¾ç½® reasoning effortï¼š
 1. OpenAI o ç³»åˆ—æ¨¡å‹
 - æ·»åŠ åç¼€ `-high` è®¾ç½®ä¸º high reasoning effort ( ä¾‹å¦‚ï¼š `o3-mini-high`)
 - æ·»åŠ åç¼€ `-medium` è®¾ç½®ä¸º medium reasoning effort ( ä¾‹å¦‚ï¼š `o3-mini-medium`)
 - æ·»åŠ åç¼€ `-low` è®¾ç½®ä¸º low reasoning effort ( ä¾‹å¦‚ï¼š `o3-mini-low`)
 2. Claude æ€è€ƒæ¨¡å‹
 - æ·»åŠ åç¼€ `-thinking` å¯ç”¨æ€è€ƒæ¨¡å¼ ( ä¾‹å¦‚ï¼š `claude-3-7-sonnet-20250219-thinking`)
16. ğŸ”„ æ€è€ƒè½¬å†…å®¹åŠŸèƒ½
17. ğŸ”„ é’ˆå¯¹ç”¨æˆ·çš„æ¨¡å‹é™æµåŠŸèƒ½
18. ğŸ”„ è¯·æ±‚æ ¼å¼è½¬æ¢åŠŸèƒ½ï¼Œæ”¯æŒä»¥ä¸‹ä¸‰ç§æ ¼å¼è½¬æ¢ï¼š
 1. OpenAI Chat Completions => Claude Messages
 2. Clade Messages => OpenAI Chat Completions ( å¯ç”¨äº Claude Code è°ƒç”¨ç¬¬ä¸‰æ–¹æ¨¡å‹ )
 3. OpenAI Chat Completions => Gemini Chat
19. ğŸ’° ç¼“å­˜è®¡è´¹æ”¯æŒï¼Œå¼€å¯åå¯ä»¥åœ¨ç¼“å­˜å‘½ä¸­æ—¶æŒ‰ç…§è®¾å®šçš„æ¯”ä¾‹è®¡è´¹ï¼š
 1. åœ¨ ` ç³»ç»Ÿè®¾ç½® - è¿è¥è®¾ç½® ` ä¸­è®¾ç½® ` æç¤ºç¼“å­˜å€ç‡ ` é€‰é¡¹
 2. åœ¨æ¸ é“ä¸­è®¾ç½® ` æç¤ºç¼“å­˜å€ç‡ `ï¼ŒèŒƒå›´ 0-1ï¼Œä¾‹å¦‚è®¾ç½®ä¸º 0.5 è¡¨ç¤ºç¼“å­˜å‘½ä¸­æ—¶æŒ‰ç…§ 50% è®¡è´¹
 3. æ”¯æŒçš„æ¸ é“ï¼š
 - [x] OpenAI
 - [x] Azure
 - [x] DeepSeek
 - [x] Claude

# # æ¨¡å‹æ”¯æŒ

æ­¤ç‰ˆæœ¬æ”¯æŒå¤šç§æ¨¡å‹ï¼Œè¯¦æƒ…è¯·å‚è€ƒ [ æ¥å£æ–‡æ¡£ - ä¸­ç»§æ¥å£ ](https://docs.newapi.pro/api)ï¼š

1. ç¬¬ä¸‰æ–¹æ¨¡å‹ **gpts** ï¼ˆgpt-4-gizmo-*ï¼‰
2. ç¬¬ä¸‰æ–¹æ¸ é“ [Midjourney-Proxy(Plus)](https://github.com/novicezk/midjourney-proxy) æ¥å£ï¼Œ[ æ¥å£æ–‡æ¡£ ](https://docs.newapi.pro/api/midjourney-proxy-image)
3. ç¬¬ä¸‰æ–¹æ¸ é“ [Suno API](https://github.com/Suno-API/Suno-API) æ¥å£ï¼Œ[ æ¥å£æ–‡æ¡£ ](https://docs.newapi.pro/api/suno-music)
4. è‡ªå®šä¹‰æ¸ é“ï¼Œæ”¯æŒå¡«å…¥å®Œæ•´è°ƒç”¨åœ°å€
5. Rerank æ¨¡å‹ï¼ˆ[Cohere](https://cohere.ai/) å’Œ [Jina](https://jina.ai/)ï¼‰ï¼Œ[ æ¥å£æ–‡æ¡£ ](https://docs.newapi.pro/api/jinaai-rerank)
6. Claude Messages æ ¼å¼ï¼Œ[ æ¥å£æ–‡æ¡£ ](https://docs.newapi.pro/api/anthropic-chat)
7. Difyï¼Œå½“å‰ä»…æ”¯æŒ chatflow

# # ç¯å¢ƒå˜é‡é…ç½®

è¯¦ç»†é…ç½®è¯´æ˜è¯·å‚è€ƒ [ å®‰è£…æŒ‡å— - ç¯å¢ƒå˜é‡é…ç½® ](https://docs.newapi.pro/installation/environment-variables)ï¼š

- `GENERATE_DEFAULT_TOKEN`ï¼šæ˜¯å¦ä¸ºæ–°æ³¨å†Œç”¨æˆ·ç”Ÿæˆåˆå§‹ä»¤ç‰Œï¼Œé»˜è®¤ä¸º `false`
- `STREAMING_TIMEOUT`ï¼šæµå¼å›å¤è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ 300 ç§’
- `DIFY_DEBUG`ï¼šDify æ¸ é“æ˜¯å¦è¾“å‡ºå·¥ä½œæµå’ŒèŠ‚ç‚¹ä¿¡æ¯ï¼Œé»˜è®¤ `true`
- `FORCE_STREAM_OPTION`ï¼šæ˜¯å¦è¦†ç›–å®¢æˆ·ç«¯ stream_options å‚æ•°ï¼Œé»˜è®¤ `true`
- `GET_MEDIA_TOKEN`ï¼šæ˜¯å¦ç»Ÿè®¡å›¾ç‰‡ tokenï¼Œé»˜è®¤ `true`
- `GET_MEDIA_TOKEN_NOT_STREAM`ï¼šéæµæƒ…å†µä¸‹æ˜¯å¦ç»Ÿè®¡å›¾ç‰‡ tokenï¼Œé»˜è®¤ `true`
- `UPDATE_TASK`ï¼šæ˜¯å¦æ›´æ–°å¼‚æ­¥ä»»åŠ¡ï¼ˆMidjourneyã€Sunoï¼‰ï¼Œé»˜è®¤ `true`
- `COHERE_SAFETY_SETTING`ï¼šCohere æ¨¡å‹å®‰å…¨è®¾ç½®ï¼Œå¯é€‰å€¼ä¸º `NONE`, `CONTEXTUAL`, `STRICT`ï¼Œé»˜è®¤ `NONE`
- `GEMINI_VISION_MAX_IMAGE_NUM`ï¼šGemini æ¨¡å‹æœ€å¤§å›¾ç‰‡æ•°é‡ï¼Œé»˜è®¤ `16`
- `MAX_FILE_DOWNLOAD_MB`: æœ€å¤§æ–‡ä»¶ä¸‹è½½å¤§å°ï¼Œå•ä½ MBï¼Œé»˜è®¤ `20`
- `CRYPTO_SECRET`ï¼šåŠ å¯†å¯†é’¥ï¼Œç”¨äºåŠ å¯†æ•°æ®åº“å†…å®¹
- `AZURE_DEFAULT_API_VERSION`ï¼šAzure æ¸ é“é»˜è®¤ API ç‰ˆæœ¬ï¼Œé»˜è®¤ `2025-04-01-preview`
- `NOTIFICATION_LIMIT_DURATION_MINUTE`ï¼šé€šçŸ¥é™åˆ¶æŒç»­æ—¶é—´ï¼Œé»˜è®¤ `10` åˆ†é’Ÿ
- `NOTIFY_LIMIT_COUNT`ï¼šç”¨æˆ·é€šçŸ¥åœ¨æŒ‡å®šæŒç»­æ—¶é—´å†…çš„æœ€å¤§æ•°é‡ï¼Œé»˜è®¤ `2`
- `ERROR_LOG_ENABLED=true`: æ˜¯å¦è®°å½•å¹¶æ˜¾ç¤ºé”™è¯¯æ—¥å¿—ï¼Œé»˜è®¤ `false`

# # éƒ¨ç½²

<<<<<<< HEAD
è¯¦ç»†éƒ¨ç½²æŒ‡å—è¯·å‚è€ƒ [ å®‰è£…æŒ‡å— - éƒ¨ç½²æ–¹å¼ ](https://docs.newapi.pro/installation)ï¼š
=======
# ä½¿ç”¨ SQLiteï¼ˆé»˜è®¤ï¼‰
docker run --name new-api -d --restart always \
  -p 3000:3000 \
  -e TZ=Asia/Shanghai \
  -v ./data:/data \
  calciumion/new-api:latest

# ä½¿ç”¨ MySQL
docker run --name new-api -d --restart always \
  -p 3000:3000 \
  -e SQL_DSN="root:123456@tcp(localhost:3306)/oneapi" \
  -e TZ=Asia/Shanghai \
  -v ./data:/data \
  calciumion/new-api:latest
```

> **ğŸ’¡ æç¤ºï¼š** `-v ./data:/data` ä¼šå°†æ•°æ®ä¿å­˜åœ¨å½“å‰ç›®å½•çš„ `data` æ–‡ä»¶å¤¹ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥æ”¹ä¸ºç»å¯¹è·¯å¾„å¦‚ `-v /your/custom/path:/data`

</details>

---

ğŸ‰ éƒ¨ç½²å®Œæˆåï¼Œè®¿é—® `http://localhost:3000` å³å¯ä½¿ç”¨ï¼

ğŸ“– æ›´å¤šéƒ¨ç½²æ–¹å¼è¯·å‚è€ƒ [éƒ¨ç½²æŒ‡å—](https://docs.newapi.pro/zh/docs/installation)

---

## ğŸ“š æ–‡æ¡£

<div align="center">

### ğŸ“– [å®˜æ–¹æ–‡æ¡£](https://docs.newapi.pro/zh/docs) | [![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/QuantumNous/new-api)

</div>

**å¿«é€Ÿå¯¼èˆªï¼š**

| åˆ†ç±» | é“¾æ¥ |
|------|------|
| ğŸš€ éƒ¨ç½²æŒ‡å— | [å®‰è£…æ–‡æ¡£](https://docs.newapi.pro/zh/docs/installation) |
| âš™ï¸ ç¯å¢ƒé…ç½® | [ç¯å¢ƒå˜é‡](https://docs.newapi.pro/zh/docs/installation/config-maintenance/environment-variables) |
| ğŸ“¡ æ¥å£æ–‡æ¡£ | [API æ–‡æ¡£](https://docs.newapi.pro/zh/docs/api) |
| â“ å¸¸è§é—®é¢˜ | [FAQ](https://docs.newapi.pro/zh/docs/support/faq) |
| ğŸ’¬ ç¤¾åŒºäº¤æµ | [äº¤æµæ¸ é“](https://docs.newapi.pro/zh/docs/support/community-interaction) |

---

## âœ¨ ä¸»è¦ç‰¹æ€§

> è¯¦ç»†ç‰¹æ€§è¯·å‚è€ƒ [ç‰¹æ€§è¯´æ˜](https://docs.newapi.pro/zh/docs/guide/wiki/basic-concepts/features-introduction)

### ğŸ¨ æ ¸å¿ƒåŠŸèƒ½

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| ğŸ¨ å…¨æ–° UI | ç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢è®¾è®¡ |
| ğŸŒ å¤šè¯­è¨€ | æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ³•è¯­ã€æ—¥è¯­ |
| ğŸ”„ æ•°æ®å…¼å®¹ | å®Œå…¨å…¼å®¹åŸç‰ˆ One API æ•°æ®åº“ |
| ğŸ“ˆ æ•°æ®çœ‹æ¿ | å¯è§†åŒ–æ§åˆ¶å°ä¸ç»Ÿè®¡åˆ†æ |
| ğŸ”’ æƒé™ç®¡ç† | ä»¤ç‰Œåˆ†ç»„ã€æ¨¡å‹é™åˆ¶ã€ç”¨æˆ·ç®¡ç† |

### ğŸ’° æ”¯ä»˜ä¸è®¡è´¹

- âœ… åœ¨çº¿å……å€¼ï¼ˆæ˜“æ”¯ä»˜ã€Stripeï¼‰
- âœ… æ¨¡å‹æŒ‰æ¬¡æ•°æ”¶è´¹
- âœ… ç¼“å­˜è®¡è´¹æ”¯æŒï¼ˆOpenAIã€Azureã€DeepSeekã€Claudeã€Qwenç­‰æ‰€æœ‰æ”¯æŒçš„æ¨¡å‹ï¼‰
- âœ… çµæ´»çš„è®¡è´¹ç­–ç•¥é…ç½®

### ğŸ” æˆæƒä¸å®‰å…¨

- ğŸ˜ˆ Discord æˆæƒç™»å½•
- ğŸ¤– LinuxDO æˆæƒç™»å½•
- ğŸ“± Telegram æˆæƒç™»å½•
- ğŸ”‘ OIDC ç»Ÿä¸€è®¤è¯
- ğŸ” Key æŸ¥è¯¢ä½¿ç”¨é¢åº¦ï¼ˆé…åˆ [neko-api-key-tool](https://github.com/Calcium-Ion/neko-api-key-tool)ï¼‰

### ğŸš€ é«˜çº§åŠŸèƒ½

**API æ ¼å¼æ”¯æŒï¼š**
- âš¡ [OpenAI Responses](https://docs.newapi.pro/zh/docs/api/ai-model/chat/openai/create-response)
- âš¡ [OpenAI Realtime API](https://docs.newapi.pro/zh/docs/api/ai-model/realtime/create-realtime-session)ï¼ˆå« Azureï¼‰
- âš¡ [Claude Messages](https://docs.newapi.pro/zh/docs/api/ai-model/chat/create-message)
- âš¡ [Google Gemini](https://doc.newapi.pro/api/google-gemini-chat)
- ğŸ”„ [Rerank æ¨¡å‹](https://docs.newapi.pro/zh/docs/api/ai-model/rerank/create-rerank)ï¼ˆCohereã€Jinaï¼‰

**æ™ºèƒ½è·¯ç”±ï¼š**
- âš–ï¸ æ¸ é“åŠ æƒéšæœº
- ğŸ”„ å¤±è´¥è‡ªåŠ¨é‡è¯•
- ğŸš¦ ç”¨æˆ·çº§åˆ«æ¨¡å‹é™æµ

**æ ¼å¼è½¬æ¢ï¼š**
- ğŸ”„ OpenAI â‡„ Claude Messages
- ğŸ”„ OpenAI â‡„ Gemini Chat
- ğŸ”„ æ€è€ƒè½¬å†…å®¹åŠŸèƒ½

**Reasoning Effort æ”¯æŒï¼š**

<details>
<summary>æŸ¥çœ‹è¯¦ç»†é…ç½®</summary>

**OpenAI ç³»åˆ—æ¨¡å‹ï¼š**
- `o3-mini-high` - High reasoning effort
- `o3-mini-medium` - Medium reasoning effort
- `o3-mini-low` - Low reasoning effort
- `gpt-5-high` - High reasoning effort
- `gpt-5-medium` - Medium reasoning effort
- `gpt-5-low` - Low reasoning effort

**Claude æ€è€ƒæ¨¡å‹ï¼š**
- `claude-3-7-sonnet-20250219-thinking` - å¯ç”¨æ€è€ƒæ¨¡å¼

**Google Gemini ç³»åˆ—æ¨¡å‹ï¼š**
- `gemini-2.5-flash-thinking` - å¯ç”¨æ€è€ƒæ¨¡å¼
- `gemini-2.5-flash-nothinking` - ç¦ç”¨æ€è€ƒæ¨¡å¼
- `gemini-2.5-pro-thinking` - å¯ç”¨æ€è€ƒæ¨¡å¼
- `gemini-2.5-pro-thinking-128` - å¯ç”¨æ€è€ƒæ¨¡å¼ï¼Œå¹¶è®¾ç½®æ€è€ƒé¢„ç®—ä¸º128tokens
- ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ Gemini æ¨¡å‹åç§°åè¿½åŠ  `-low` / `-medium` / `-high` æ¥æ§åˆ¶æ€è€ƒåŠ›åº¦ï¼ˆæ— éœ€å†è®¾ç½®æ€è€ƒé¢„ç®—åç¼€ï¼‰

</details>

---

## ğŸ¤– æ¨¡å‹æ”¯æŒ

> è¯¦æƒ…è¯·å‚è€ƒ [æ¥å£æ–‡æ¡£ - ä¸­ç»§æ¥å£](https://docs.newapi.pro/zh/docs/api)

| æ¨¡å‹ç±»å‹ | è¯´æ˜ | æ–‡æ¡£ |
|---------|------|------|
| ğŸ¤– OpenAI GPTs | gpt-4-gizmo-* ç³»åˆ— | - |
| ğŸ¨ Midjourney-Proxy | [Midjourney-Proxy(Plus)](https://github.com/novicezk/midjourney-proxy) | [æ–‡æ¡£](https://doc.newapi.pro/api/midjourney-proxy-image) |
| ğŸµ Suno-API | [Suno API](https://github.com/Suno-API/Suno-API) | [æ–‡æ¡£](https://doc.newapi.pro/api/suno-music) |
| ğŸ”„ Rerank | Cohereã€Jina | [æ–‡æ¡£](https://docs.newapi.pro/zh/docs/api/ai-model/rerank/create-rerank) |
| ğŸ’¬ Claude | Messages æ ¼å¼ | [æ–‡æ¡£](https://docs.newapi.pro/zh/docs/api/ai-model/chat/create-message) |
| ğŸŒ Gemini | Google Gemini æ ¼å¼ | [æ–‡æ¡£](https://doc.newapi.pro/api/google-gemini-chat) |
| ğŸ”§ Dify | ChatFlow æ¨¡å¼ | - |
| ğŸ¯ è‡ªå®šä¹‰ | æ”¯æŒå®Œæ•´è°ƒç”¨åœ°å€ | - |

### ğŸ“¡ æ”¯æŒçš„æ¥å£

<details>
<summary>æŸ¥çœ‹å®Œæ•´æ¥å£åˆ—è¡¨</summary>

- [èŠå¤©æ¥å£ (Chat Completions)](https://docs.newapi.pro/zh/docs/api/ai-model/chat/openai/create-chat-completion)
- [å“åº”æ¥å£ (Responses)](https://docs.newapi.pro/zh/docs/api/ai-model/chat/openai/create-response)
- [å›¾åƒæ¥å£ (Image)](https://docs.newapi.pro/zh/docs/api/ai-model/images/openai/v1-images-generations--post)
- [éŸ³é¢‘æ¥å£ (Audio)](https://docs.newapi.pro/zh/docs/api/ai-model/audio/openai/create-transcription)
- [è§†é¢‘æ¥å£ (Video)](https://docs.newapi.pro/zh/docs/api/ai-model/videos/create-video-generation)
- [åµŒå…¥æ¥å£ (Embeddings)](https://docs.newapi.pro/zh/docs/api/ai-model/embeddings/create-embedding)
- [é‡æ’åºæ¥å£ (Rerank)](https://docs.newapi.pro/zh/docs/api/ai-model/rerank/create-rerank)
- [å®æ—¶å¯¹è¯ (Realtime)](https://docs.newapi.pro/zh/docs/api/ai-model/realtime/create-realtime-session)
- [Claude èŠå¤©](https://docs.newapi.pro/zh/docs/api/ai-model/chat/create-message)
- [Google Gemini èŠå¤©](https://doc.newapi.pro/api/google-gemini-chat)

</details>

---

## ğŸš¢ éƒ¨ç½²
>>>>>>> upstream/main

> [!TIP]
> æœ€æ–°ç‰ˆ Docker é•œåƒï¼š`bobo642/new-api:latest`

## # å¤šæœºéƒ¨ç½²æ³¨æ„äº‹é¡¹
- å¿…é¡»è®¾ç½®ç¯å¢ƒå˜é‡ `SESSION_SECRET`ï¼Œå¦åˆ™ä¼šå¯¼è‡´å¤šæœºéƒ¨ç½²æ—¶ç™»å½•çŠ¶æ€ä¸ä¸€è‡´
- å¦‚æœå…¬ç”¨ Redisï¼Œå¿…é¡»è®¾ç½® `CRYPTO_SECRET`ï¼Œå¦åˆ™ä¼šå¯¼è‡´å¤šæœºéƒ¨ç½²æ—¶ Redis å†…å®¹æ— æ³•è·å–

## # éƒ¨ç½²è¦æ±‚
- æœ¬åœ°æ•°æ®åº“ï¼ˆé»˜è®¤ï¼‰ï¼šSQLiteï¼ˆDocker éƒ¨ç½²å¿…é¡»æŒ‚è½½ `/data` ç›®å½•ï¼‰
- è¿œç¨‹æ•°æ®åº“ï¼šMySQL ç‰ˆæœ¬ >= 5.7.8ï¼ŒPgSQL ç‰ˆæœ¬ >= 9.6

## # éƒ¨ç½²æ–¹å¼

### # ä½¿ç”¨å®å¡”é¢æ¿ Docker åŠŸèƒ½éƒ¨ç½²
å®‰è£…å®å¡”é¢æ¿ï¼ˆ**9.2.0 ç‰ˆæœ¬**åŠä»¥ä¸Šï¼‰ï¼Œåœ¨åº”ç”¨å•†åº—ä¸­æ‰¾åˆ°**New-API**å®‰è£…å³å¯ã€‚
[ å›¾æ–‡æ•™ç¨‹ ](./docs/BT.md)

<<<<<<< HEAD
### # ä½¿ç”¨ Docker Compose éƒ¨ç½²ï¼ˆæ¨èï¼‰
``shell
# ä¸‹è½½é¡¹ç›®
git clone https://github.com/Calcium-Ion/new-api.git
=======
| å˜é‡å | è¯´æ˜                                                           | é»˜è®¤å€¼ |
|--------|--------------------------------------------------------------|--------|
| `SESSION_SECRET` | ä¼šè¯å¯†é’¥ï¼ˆå¤šæœºéƒ¨ç½²å¿…é¡»ï¼‰                                                 | - |
| `CRYPTO_SECRET` | åŠ å¯†å¯†é’¥ï¼ˆRedis å¿…é¡»ï¼‰                                               | - |
| `SQL_DSN` | æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²                                                     | - |
| `REDIS_CONN_STRING` | Redis è¿æ¥å­—ç¬¦ä¸²                                                  | - |
| `STREAMING_TIMEOUT` | æµå¼è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰                                                    | `300` |
| `STREAM_SCANNER_MAX_BUFFER_MB` | æµå¼æ‰«æå™¨å•è¡Œæœ€å¤§ç¼“å†²ï¼ˆMBï¼‰ï¼Œå›¾åƒç”Ÿæˆç­‰è¶…å¤§ `data:` ç‰‡æ®µï¼ˆå¦‚ 4K å›¾ç‰‡ base64ï¼‰éœ€é€‚å½“è°ƒå¤§ | `64` |
| `MAX_REQUEST_BODY_MB` | è¯·æ±‚ä½“æœ€å¤§å¤§å°ï¼ˆMBï¼Œ**è§£å‹å**è®¡ï¼›é˜²æ­¢è¶…å¤§è¯·æ±‚/zip bomb å¯¼è‡´å†…å­˜æš´æ¶¨ï¼‰ï¼Œè¶…è¿‡å°†è¿”å› `413` | `32` |
| `AZURE_DEFAULT_API_VERSION` | Azure API ç‰ˆæœ¬                                                 | `2025-04-01-preview` |
| `ERROR_LOG_ENABLED` | é”™è¯¯æ—¥å¿—å¼€å…³                                                       | `false` |
| `PYROSCOPE_URL` | Pyroscope æœåŠ¡åœ°å€                                            | - |
| `PYROSCOPE_APP_NAME` | Pyroscope åº”ç”¨å                                        | `new-api` |
| `PYROSCOPE_BASIC_AUTH_USER` | Pyroscope Basic Auth ç”¨æˆ·å                        | - |
| `PYROSCOPE_BASIC_AUTH_PASSWORD` | Pyroscope Basic Auth å¯†ç                   | - |
| `PYROSCOPE_MUTEX_RATE` | Pyroscope mutex é‡‡æ ·ç‡                               | `5` |
| `PYROSCOPE_BLOCK_RATE` | Pyroscope block é‡‡æ ·ç‡                               | `5` |
| `HOSTNAME` | Pyroscope æ ‡ç­¾é‡Œçš„ä¸»æœºå                                          | `new-api` |

ğŸ“– **å®Œæ•´é…ç½®ï¼š** [ç¯å¢ƒå˜é‡æ–‡æ¡£](https://docs.newapi.pro/zh/docs/installation/config-maintenance/environment-variables)

</details>

### ğŸ”§ éƒ¨ç½²æ–¹å¼

<details>
<summary><strong>æ–¹å¼ 1ï¼šDocker Composeï¼ˆæ¨èï¼‰</strong></summary>

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/QuantumNous/new-api.git
>>>>>>> upstream/main
cd new-api
# æŒ‰éœ€ç¼–è¾‘ docker-compose.yml
# å¯åŠ¨
docker-compose up -d
```

#### ç›´æ¥ä½¿ç”¨Dockeré•œåƒ
``shell
# ä½¿ç”¨SQLite
docker run --name new-api -d --restart always -p 3000:3000 -e TZ=Asia/Shanghai -v /home/ubuntu/data/new-api:/data bobo642/new-api:latest

# ä½¿ç”¨MySQL
docker run --name new-api -d --restart always -p 3000:3000 -e SQL_DSN="root:123456@tcp(localhost:3306)/oneapi" -e TZ=Asia/Shanghai -v /home/ubuntu/data/new-api:/data bobo642/new-api:latest
```

# # æ¸ é“é‡è¯•ä¸ç¼“å­˜
æ¸ é“é‡è¯•åŠŸèƒ½å·²ç»å®ç°ï¼Œå¯ä»¥åœ¨ ` è®¾ç½® ->è¿è¥è®¾ç½® ->é€šç”¨è®¾ç½® ` è®¾ç½®é‡è¯•æ¬¡æ•°ï¼Œ**å»ºè®®å¼€å¯ç¼“å­˜**åŠŸèƒ½ã€‚

## # ç¼“å­˜è®¾ç½®æ–¹æ³•
1. `REDIS_CONN_STRING`ï¼šè®¾ç½® Redis ä½œä¸ºç¼“å­˜
2. `MEMORY_CACHE_ENABLED`ï¼šå¯ç”¨å†…å­˜ç¼“å­˜ï¼ˆè®¾ç½®äº† Redis åˆ™æ— éœ€æ‰‹åŠ¨è®¾ç½®ï¼‰

# # æ¥å£æ–‡æ¡£

è¯¦ç»†æ¥å£æ–‡æ¡£è¯·å‚è€ƒ [ æ¥å£æ–‡æ¡£ ](https://docs.newapi.pro/api)ï¼š

- [ èŠå¤©æ¥å£ï¼ˆChatï¼‰](https://docs.newapi.pro/api/openai-chat)
- [ å›¾åƒæ¥å£ï¼ˆImageï¼‰](https://docs.newapi.pro/api/openai-image)
- [ é‡æ’åºæ¥å£ï¼ˆRerankï¼‰](https://docs.newapi.pro/api/jinaai-rerank)
- [ å®æ—¶å¯¹è¯æ¥å£ï¼ˆRealtimeï¼‰](https://docs.newapi.pro/api/openai-realtime)
- [Claude èŠå¤©æ¥å£ï¼ˆmessagesï¼‰](https://docs.newapi.pro/api/anthropic-chat)

# # ç›¸å…³é¡¹ç›®
- [One API](https://github.com/songquanpeng/one-api)ï¼šåŸç‰ˆé¡¹ç›®
- [Midjourney-Proxy](https://github.com/novicezk/midjourney-proxy)ï¼šMidjourney æ¥å£æ”¯æŒ
- [chatnio](https://github.com/Deeptrain-Community/chatnio)ï¼šä¸‹ä¸€ä»£ AI ä¸€ç«™å¼ B/C ç«¯è§£å†³æ–¹æ¡ˆ
- [neko-api-key-tool](https://github.com/Calcium-Ion/neko-api-key-tool)ï¼šç”¨ key æŸ¥è¯¢ä½¿ç”¨é¢åº¦

å…¶ä»–åŸºäº New API çš„é¡¹ç›®ï¼š
- [new-api-horizon](https://github.com/Calcium-Ion/new-api-horizon)ï¼šNew API é«˜æ€§èƒ½ä¼˜åŒ–ç‰ˆ

# # å¸®åŠ©æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒ [ å¸®åŠ©æ”¯æŒ ](https://docs.newapi.pro/support)ï¼š
- [ ç¤¾åŒºäº¤æµ ](https://docs.newapi.pro/support/community-interaction)
- [ åé¦ˆé—®é¢˜ ](https://docs.newapi.pro/support/feedback-issues)
- [ å¸¸è§é—®é¢˜ ](https://docs.newapi.pro/support/faq)

# # ğŸŒŸ Star History

<<<<<<< HEAD
[![Star History Chart](https://api.star-history.com/svg?repos=Calcium-Ion/new-api&type=Date)](https://star-history.com/#Calcium-Ion/new-api&Date)
=======
**é‡è¯•é…ç½®ï¼š** `è®¾ç½® â†’ è¿è¥è®¾ç½® â†’ é€šç”¨è®¾ç½® â†’ å¤±è´¥é‡è¯•æ¬¡æ•°`

**ç¼“å­˜é…ç½®ï¼š**
- `REDIS_CONN_STRING`ï¼šRedis ç¼“å­˜ï¼ˆæ¨èï¼‰
- `MEMORY_CACHE_ENABLED`ï¼šå†…å­˜ç¼“å­˜

---

## ğŸ”— ç›¸å…³é¡¹ç›®

### ä¸Šæ¸¸é¡¹ç›®

| é¡¹ç›® | è¯´æ˜ |
|------|------|
| [One API](https://github.com/songquanpeng/one-api) | åŸç‰ˆé¡¹ç›®åŸºç¡€ |
| [Midjourney-Proxy](https://github.com/novicezk/midjourney-proxy) | Midjourney æ¥å£æ”¯æŒ |

### é…å¥—å·¥å…·

| é¡¹ç›® | è¯´æ˜ |
|------|------|
| [neko-api-key-tool](https://github.com/Calcium-Ion/neko-api-key-tool) | Key é¢åº¦æŸ¥è¯¢å·¥å…· |
| [new-api-horizon](https://github.com/Calcium-Ion/new-api-horizon) | New API é«˜æ€§èƒ½ä¼˜åŒ–ç‰ˆ |

---

## ğŸ’¬ å¸®åŠ©æ”¯æŒ

### ğŸ“– æ–‡æ¡£èµ„æº

| èµ„æº | é“¾æ¥ |
|------|------|
| ğŸ“˜ å¸¸è§é—®é¢˜ | [FAQ](https://docs.newapi.pro/zh/docs/support/faq) |
| ğŸ’¬ ç¤¾åŒºäº¤æµ | [äº¤æµæ¸ é“](https://docs.newapi.pro/zh/docs/support/community-interaction) |
| ğŸ› åé¦ˆé—®é¢˜ | [é—®é¢˜åé¦ˆ](https://docs.newapi.pro/zh/docs/support/feedback-issues) |
| ğŸ“š å®Œæ•´æ–‡æ¡£ | [å®˜æ–¹æ–‡æ¡£](https://docs.newapi.pro/zh/docs) |

### ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

- ğŸ› æŠ¥å‘Š Bug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½
- ğŸ“ æ”¹è¿›æ–‡æ¡£
- ğŸ”§ æäº¤ä»£ç 

---

## ğŸŒŸ Star History

<div align="center">

[![Star History Chart](https://api.star-history.com/svg?repos=Calcium-Ion/new-api&type=Date)](https://star-history.com/#Calcium-Ion/new-api&Date)

</div>

---

<div align="center">

### ğŸ’– æ„Ÿè°¢ä½¿ç”¨ New API

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ Starï¼

**[å®˜æ–¹æ–‡æ¡£](https://docs.newapi.pro/zh/docs)** â€¢ **[é—®é¢˜åé¦ˆ](https://github.com/Calcium-Ion/new-api/issues)** â€¢ **[æœ€æ–°å‘å¸ƒ](https://github.com/Calcium-Ion/new-api/releases)**

<sub>Built with â¤ï¸ by QuantumNous</sub>

</div>
>>>>>>> upstream/main
